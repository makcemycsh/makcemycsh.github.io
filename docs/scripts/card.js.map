{"version":3,"sources":["card.js"],"names":["cardsStore","Card","item","_classCallCheck","this","$","$close","find","attr","handlers","_this","subscribe","console","log","id","dispatch","removeItem","unsubscribe","on","closeItem","bind","document","ready","initialState","each","i","e","push","cardId","card","localData","localStorage","getItem","setItem","JSON","stringify","Store","cardReducer"],"mappings":"6XAAA,IAAIA,gBAAAA,EAEEC,gBACJ,SAAAA,EAAYC,GAAMC,gBAAAC,KAAAH,GAChBG,KAAKF,KAAOG,EAAEH,GACdE,KAAKE,OAASF,KAAKF,KAAKK,KAAK,kBAL7BP,KAAAA,GAAAA,KAAAA,KAAJQ,KAAA,WAEMP,KAMGQ,oEAGK,IAAAC,EAAAN,KAPLF,EAALF,WAAAW,UAAA,WAAA,OAAAC,QAAAC,IAAA,mBAAAH,EAAAI,MAEKA,EAAK,CAAUN,KAAK,aAAzBM,GAAAV,KAAAU,IASAd,WAAWe,SAASC,GAPpBC,uCAaAb,KAAKE,OAAOY,GAAG,QAASd,KAVde,UAAAC,KAAAhB,gBAC+BC,EAAAgB,UAAzCC,MAAA,WAEA,IAAAC,EAAmB,GACnBvB,EAAWe,GAGZV,EAAA,YAAAmB,KAAA,SAAAC,EAAAC,GAcCH,EAAaI,KAAK,CAACC,OAAQvB,EAAEqB,GAAGlB,KAAK,WAAYqB,KAAMH,IACvDI,EAAUH,KAAKtB,EAAEqB,GAAGlB,KAAK,YACzB,IAAIP,KAAKI,EAAEqB,MAGRK,aAAaC,QAAQ,cAExBD,aAAaE,QAAQ,aAAcC,KAAKC,UAAUL,IAVpD9B,WAAI8B,IAAYM,MAAhBC,YAAAd","file":"card.js","sourcesContent":["let cardsStore;\n\nclass Card {\n  constructor(item) {\n    this.item = $(item);\n    this.$close = this.item.find('.js-item-close');\n    this.id = this.item.attr('data-id');\n\n    this.handlers();\n  }\n\n  closeItem() {\n    const unsubscribe = cardsStore.subscribe(() => console.log(`Card remove, id:${ this.id }`));\n\n    const removeItem = {type: 'removeItem', id: this.id};\n    cardsStore.dispatch(removeItem);\n    unsubscribe();\n\n  }\n\n  handlers() {\n    this.$close.on('click', this.closeItem.bind(this));\n  }\n}\n\n\n$(document).ready(function() {\n\n  const initialState = [];\n  let localData = [];\n\n  $('.js-card').each((i, e) => {\n    initialState.push({cardId: $(e).attr('data-id'), card: e});\n    localData.push($(e).attr('data-id'));\n    new Card($(e));\n  });\n\n  if ( localStorage.getItem('CardIdSore') ) {\n    // localData = JSON.parse(localStorage.getItem('CardIdSore'));\n    localStorage.setItem('CardIdSore', JSON.stringify(localData));\n\n  } else {\n    localStorage.setItem('CardIdSore', JSON.stringify(localData));\n  }\n\n  cardsStore = new Store(cardReducer, initialState);\n});\n"],"sourceRoot":"/source/"}